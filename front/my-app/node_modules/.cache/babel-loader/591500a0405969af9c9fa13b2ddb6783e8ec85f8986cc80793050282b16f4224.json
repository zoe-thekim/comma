{"ast":null,"code":"// import axios, {head} from \"axios\";\n//\n// const API = \"http://localhost:8080\";\n//\n// function getCookie(name){\n//     return document.cookie.split(\"; \").find(r=>r.startsWith(name+\"=\"))?.split(\"=\")[1];\n// }\n//\n// export async function ensureCsrf(){\n//     if(!getCookie(\"XSRF-TOKEN\")){\n//         await fetch('${API}/csrf', {credentials:\"include\"});\n//     }\n// }\n//\n// export async function apiFetch(path, init = {}){\n//     await ensureCsrf();\n//     const method = (init.method || \"GET\").toUpperCase();\n//     const headers = new Headers(init.headers);\n//\n//     if([\"POST\", \"PUT\", \"PATCH\", \"DELETE\"].includes(method)){\n//         headers.set(\"Content-Type\", \"application/json\");\n//         const token = getCookie(\"XSRF-TOKEN\");\n//         if(token) headers.set(\"X-XSRF-TOKEN\", decodeURIComponent(token));\n//     }\n//     return fetch('${API}${path}', {...init, headers, credentials:\"include\"});\n// }\n//\n// // export const api = axios.create({\n// //     baseURL: '/api',\n// //     withCredentials: true,\n// //     headers: { 'Content-Type': 'application/json' },\n// //     xsrfCookieName: 'XSRF-TOKEN', // (시큐리티 ON일 때)\n// //     xsrfHeaderName: 'X-XSRF-TOKEN'\n// // });\n\nimport axios from 'axios';\nexport const api = axios.create({\n  baseURL: 'http://localhost:8080/api',\n  withCredentials: true,\n  xsrfCookieName: \"XSRF-TOKEN\",\n  xsrfHeaderName: \"X-XSRF-TOKEN\",\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});","map":{"version":3,"names":["axios","api","create","baseURL","withCredentials","xsrfCookieName","xsrfHeaderName","headers"],"sources":["/Users/varm/Source/web/front/my-app/src/api.js"],"sourcesContent":["// import axios, {head} from \"axios\";\n//\n// const API = \"http://localhost:8080\";\n//\n// function getCookie(name){\n//     return document.cookie.split(\"; \").find(r=>r.startsWith(name+\"=\"))?.split(\"=\")[1];\n// }\n//\n// export async function ensureCsrf(){\n//     if(!getCookie(\"XSRF-TOKEN\")){\n//         await fetch('${API}/csrf', {credentials:\"include\"});\n//     }\n// }\n//\n// export async function apiFetch(path, init = {}){\n//     await ensureCsrf();\n//     const method = (init.method || \"GET\").toUpperCase();\n//     const headers = new Headers(init.headers);\n//\n//     if([\"POST\", \"PUT\", \"PATCH\", \"DELETE\"].includes(method)){\n//         headers.set(\"Content-Type\", \"application/json\");\n//         const token = getCookie(\"XSRF-TOKEN\");\n//         if(token) headers.set(\"X-XSRF-TOKEN\", decodeURIComponent(token));\n//     }\n//     return fetch('${API}${path}', {...init, headers, credentials:\"include\"});\n// }\n//\n// // export const api = axios.create({\n// //     baseURL: '/api',\n// //     withCredentials: true,\n// //     headers: { 'Content-Type': 'application/json' },\n// //     xsrfCookieName: 'XSRF-TOKEN', // (시큐리티 ON일 때)\n// //     xsrfHeaderName: 'X-XSRF-TOKEN'\n// // });\n\n\nimport axios from 'axios';\nexport const api = axios.create({\n    baseURL: 'http://localhost:8080/api',\n    withCredentials: true,\n    xsrfCookieName: \"XSRF-TOKEN\",\n    xsrfHeaderName: \"X-XSRF-TOKEN\",\n    headers: { 'Content-Type': 'application/json' },\n});"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAO,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EAC5BC,OAAO,EAAE,2BAA2B;EACpCC,eAAe,EAAE,IAAI;EACrBC,cAAc,EAAE,YAAY;EAC5BC,cAAc,EAAE,cAAc;EAC9BC,OAAO,EAAE;IAAE,cAAc,EAAE;EAAmB;AAClD,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}